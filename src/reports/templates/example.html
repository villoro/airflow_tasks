<!DOCTYPE html>
<html lang="en">
  <title>Expensor</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- W3.css for styling: https://www.w3schools.com/w3css/4/w3.css -->
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

  <!-- Icons font -->
  <script src="https://kit.fontawesome.com/a357d21370.js"></script>

  <!-- Highcharts js -->
  <script src="https://code.highcharts.com/highcharts.src.js"></script>
  <script src="https://code.highcharts.com/modules/sankey.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>

  <style>
    /* Set the width of the sidebar to 52px */
    .w3-sidebar {width: 52px}
    .w3-sidebar-item {font-size: 18px; margin-top: 12px}
    .w3-navbar {height: 48px}

    /* Add a left margin to the "page content" that matches the width of the sidebar (52px) */
    .main{
      margin-left: 52px;
      margin-top: 0px;
      padding:2px 16px!important
    }
    /* Remove margins from "page content" on small screens */
    @media only screen and (max-width: 600px) {
      .main {margin-left: 0; margin-top: 48px}
      .w3-sidebar-item {font-size: 16px; margin-top: 0px}
    }

    .plot {
      padding: 8px;
    }

    .elem {
      margin-top: 16px;
      margin-bottom: 16px;
    }

    /* Grid for dashboard */
    .mgrid {
      padding-top: 16px;
      display: grid;
      grid-row-gap: 16px;
      grid-column-gap: 16px;
      grid-template-columns: repeat(6, 1fr);
    }
    @media only screen and (max-width: 600px) {
      .mgrid {grid-template-columns: repeat(3, 1fr)}
    }

    .sidebar a.active{
      color:#000000!important
    }
  </style>

  <body class="w3-light-grey">

    <!-- Icon Bar (Sidebar - hidden on small screens) -->
    <div class="w3-sidebar w3-blue w3-hide-small w3-center sidebar">
      <a onclick="openSite(event, 'dashboard')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange w3-sidebar-item">
        <i class="fas fa-table"></i>
      </a>
      <a onclick="openSite(event, 'evolution')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange w3-sidebar-item">
        <i class="fas fa-chart-line"></i>
      </a>
      <a onclick="openSite(event, 'comparison')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange w3-sidebar-item">
        <i class="fas fa-poll"></i>
      </a>
      <a onclick="openSite(event, 'pies')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange w3-sidebar-item">
        <i class="fas fa-chart-pie"></i>
      </a>
      <a onclick="openSite(event, 'liquid')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange w3-sidebar-item">
        <i class="fas fa-coins"></i>
      </a>
      <a onclick="openSite(event, 'investments')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange w3-sidebar-item">
        <i class="fas fa-wallet"></i>
      </a>
      <a onclick="openSite(event, 'fire')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange w3-sidebar-item">
        <i class="fas fa-fire"></i>
      </a>
    </div>

    <!-- Navbar on small screens (Hidden on medium and large screens) -->
    <div class="w3-top w3-hide-large w3-hide-medium w3-card">
      <div class="w3-bar w3-blue w3-center w3-small sidebar">
        <a onclick="openSite(event, 'dashboard')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange">
          <i class="fas fa-table w3-sidebar-item"></i>
        </a>
        <a onclick="openSite(event, 'evolution')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange">
          <i class="fas fa-chart-line w3-sidebar-item"></i>
        </a>
        <a onclick="openSite(event, 'comparison')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange">
          <i class="fas fa-poll w3-sidebar-item"></i>
        </a>
        <a onclick="openSite(event, 'pies')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange">
          <i class="fas fa-chart-pie w3-sidebar-item"></i>
        </a>
        <a onclick="openSite(event, 'liquid')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange">
          <i class="fas fa-coins w3-sidebar-item"></i>
        </a>
        <a onclick="openSite(event, 'investments')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange">
          <i class="fas fa-wallet w3-sidebar-item"></i>
        </a>
        <a onclick="openSite(event, 'fire')" class="section_button w3-bar-item w3-button w3-hover-blue w3-hover-text-orange">
          <i class="fas fa-fire w3-sidebar-item"></i>
        </a>
      </div>
    </div>

    <!-- Page Content -->
    <div class="main">

      <!-- DASH -->
      <div id="dashboard" class="section">
        <div class="mgrid">
          <div class="w3-card w3-round w3-center w3-white">
            <h1>Expenses</h1>
          </div>
          <div class="w3-card w3-round w3-center w3-white">
            <h1>Incomes</h1>
          </div>
          <div class="w3-card w3-round w3-center w3-white">
            <h1>EBIT</h1>
          </div>
          <div class="w3-card w3-round w3-center w3-white">
            <h1>Liquid</h1>
          </div>
          <div class="w3-card w3-round w3-center w3-white">
            <h1>Worth</h1>
          </div>
          <div class="w3-card w3-round w3-center w3-white">
            <h1>Date</h1>
          </div>
        </div>
      </div>

      <!-- EVO -->
      <div id="evolution" class="section">
        <div class="w3-card w3-round w3-center w3-white elem">
          <div id="EVO_evolution_month" class="plot" style="height: 450px"></div>
        </div>

        <div class="w3-card w3-round w3-center w3-white elem">
          <div id="EVO_expenses_by_categ" class="plot" style="height: 450px"></div>
        </div>
      </div>

      <!-- COMP -->
      <div id="comparison" class="section">
        <div class="w3-card w3-round w3-center w3-white elem">
          <div id="SAN_month" class="plot" style="height: 600px"></div>
        </div>
      </div>

      <!-- PIE -->
      <div id="pies" class="section">
      </div>

      <!-- LIQ -->
      <div id="liquid" class="section">
      </div>

      <!-- INV -->
      <div id="investments" class="section">
      </div>

      <!-- FIRE -->
      <div id="fire" class="section">
      </div>

    </div>

  </body>

  <script>
    function openSite(evt, section_name) {
      var i, sections, section_buttons;
      sections = document.getElementsByClassName("section");
      for (i = 0; i < sections.length; i++) {
        sections[i].style.display = "none";
      }
      section_buttons = document.getElementsByClassName("section_button");
      for (i = 0; i < section_buttons.length; i++) {
        section_buttons[i].className = section_buttons[i].className.replace(" active", "");
      }
      document.getElementById(section_name).style.display = "block";
      evt.currentTarget.className += " active";
    }
  </script>

  <script>
    Highcharts.chart('EVO_evolution_month', {
      title: {
        text: 'Month evolution'
      },
      xAxis: {
        type: 'datetime',
      },
      yAxis: {
        title: {
          text: null
        }
      },
      plotOptions: {
        series: {
          marker: {
            enabled: false
          },
        }
      },
      series: [
        {
          color: "#4CAF50",
          name: 'Incomes',
          data: [
            [Date.parse("2011-12-01"), 200],
            [Date.parse("2012-01-01"), 300],
            [Date.parse("2012-02-01"), 250],
          ]
        }, {
          color: "#F44336",
          name: 'Expenses',
          data: [
            [Date.parse("2011-12-01"), 210],
            [Date.parse("2012-01-01"), 220],
            [Date.parse("2012-02-01"), 200],
          ]
        }, {
          color: "#FFC107",
          name: 'EBIT',
          data: [
            [Date.parse("2011-12-01"), -10],
            [Date.parse("2012-01-01"), 80],
            [Date.parse("2012-02-01"), 50],
          ]
        }
      ],
    });

    Highcharts.chart('EVO_expenses_by_categ', {
      title: {
        text: 'Expenses evolution by category'
      },
      xAxis: {
        type: 'datetime',
      },
      yAxis: {
        title: {
          text: null
        }
      },
      plotOptions: {
        series: {
          marker: {
            enabled: false
          },
          stacking: 'normal',
        }
      },
      series: [
        {
          color: "#4CAF50",
          name: 'Incomes',
          type: 'column',
          data: [
            [Date.parse("2011-12-01"), 200],
            [Date.parse("2012-01-01"), 300],
            [Date.parse("2012-02-01"), 250],
          ]
        }, {
          color: "#F44336",
          name: 'Expenses',
          type: 'column',
          data: [
            [Date.parse("2011-12-01"), 210],
            [Date.parse("2012-01-01"), 220],
            [Date.parse("2012-02-01"), 200],
          ]
        }, {
          color: "#FFC107",
          name: 'EBIT',
          data: [
            [Date.parse("2011-12-01"), -10],
            [Date.parse("2012-01-01"), 80],
            [Date.parse("2012-02-01"), 50],
          ]
        }
      ],
    });
    Highcharts.chart('SAN_month', {
      title: {
        text: 'Highcharts Sankey Diagram'
      },
      series: [{
        type: 'sankey',
        keys: ['from', 'to', 'weight'],
        data: [
          ["Bonus", "Incomes", 340.85],
          ["Nomina", "Incomes", 1633.34],
          ["Incomes", "Expenses", 967.07],
          ["Incomes", "Investments", 850],
          ["Incomes", "Savings", 157.12],
          ["Expenses", "Altres", 5.0],
          ["Expenses", "Objectes", 33.6],
          ["Expenses", "Regals", 37.98],
          ["Expenses", "Viatges", 200.05],
          ["Expenses", "Lleure", 33.0],
          ["Expenses", "Salut", 19.9],
          ["Expenses", "Transport", 6.02],
          ["Expenses", "Gasolina", 52.89],
          ["Expenses", "Menjar", 232.23],
          ["Expenses", "Bar", 9.5],
          ["Expenses", "Quotes", 49.8],
          ["Expenses", "Subministres", 9.67],
          ["Expenses", "Lloguer", 277.43],
        ],
        nodes: [
          {id: "Nomina", color: '#FFF59D'},
          {id: "Bonus", color: '#FFEB3B'},
          {id: "Lloguer", color: '#FFF9C4'},
          {id: "Subministres", color: '#FFF59D'},
          {id: "Telefon", color: '#FFF176'},
          {id: "Quotes", color: '#FFEB3B'},
          {id: "Bar", color: '#FFB74D'},
          {id: "Menjar", color: '#FF9800'},
          {id: "Gasolina", color: '#DCE775'},
          {id: "Transport", color: '#CDDC39'},
          {id: "Salut", color: '#81C784'},
          {id: "Estudis", color: '#4CAF50'},
          {id: "Lleure", color: '#81D4FA'},
          {id: "Viatges", color: '#03A9F4'},
          {id: "Regals", color: '#E1BEE7'},
          {id: "Tecnologia", color: '#7986CB'},
          {id: "Objectes", color: '#3F51B5'},
          {id: "Arracades", color: '#303F9F'},
          {id: "Blog", color: '#A1887F'},
          {id: "Moto", color: '#F06292'},
          {id: "Mobles", color: '#E91E63'},
          {id: "Altres", color: '#C2185B'},
          {id: "Banc", color: '#F44336'},
          {id: "Expenses", color: '#F44336'},
          {id: "Incomes", color: '#4CAF50'},
          {id: "Investments", color: '#388E3C'},
          {id: "Savings", color: '#9C27B0'},
        ],
      }]
    });
  </script>
</html>
